<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Template: Password</title>
	</head>

	<body>
		<!-- ###TEMPLATE### begin-->
		<script language="javascript">
			//<![CDATA[
			function passwordChanged() {
				var strength = document.getElementById('password');
				var strongRegex = new RegExp('^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$', 'g');
				var mediumRegex = new RegExp('^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$', 'g');
				var enoughRegex = new RegExp('(?=.{6,}).*', 'g');
				var pwd = document.getElementById('password');
				if (pwd.value.length==0) {
					strength.setAttribute('style', 'background-color:#FBB19B; border:1px solid #DC4C42');
				} else if (false == enoughRegex.test(pwd.value)) {
					strength.setAttribute('style', 'background-color:#FBB19B; border:1px solid #DC4C42');
				} else if (strongRegex.test(pwd.value)) {
					strength.setAttribute('style', 'background-color:#CDEACA; border:1px solid #58B548');
				} else if (mediumRegex.test(pwd.value)) {
					strength.setAttribute('style', 'background-color:#FBFFB3; border:1px solid #C4B70D');
				} else { 
					strength.setAttribute('style', 'background-color:#FBFFB3; border:1px solid #C4B70D');
				}
			}
			//]]>
		</script>
		<div>
			<form action="index.php?TYPO3_INSTALL[type]=database&mode=123&step=6" method="post">
				<fieldset>
					<legend><strong>Enter a password</strong></legend>
					<p>Please choose a password for your TYPO3 installation.</p>
					<p>It should be at least 6 characters long.</p>
					<!-- ###ENTER_PASSWORD_REMOVEWHENEMPTY### begin -->
					<p class="typo3-message message-error">###ENTER_PASSWORD###</p>
					<!-- ###ENTER_PASSWORD_REMOVEWHENEMPTY### end -->
					
					<label for="password" style="margin-right: 5px;">Password</label>
					<input name="password" id="password" type="###PASSWORD_TYPE###" size="15" maxlength="20" onkeyup="return passwordChanged();" value="###PASSWORD###"/>
					###PASSWORD_SWITCH_BEGIN###
					<span style="padding-left: 18.2em; margin-left: 2px;">
						<input type="checkbox" id="show-password" onchange="if (this.checked==true) { document.getElementById('password').type='text'; } else { document.getElementById('password').type='password'; }">
						<label for="show-password" style="width: auto; float: none;">Show password</label>
					</span>
					###PASSWORD_SWITCH_END###
					<input name="useRealURL" id="useRealURL" type="hidden" value="0" />
				</fieldset>
				<div style="height: 20px;"></div>
				<fieldset>
					<legend><strong>Introduction package</strong></legend>
					<p>Here you can choose a color for your demo webpage.</p>
					<p></p>
					<span style="float: left; width: 250px; margin-top: 107px;">
						<input type="text" id="colorPicker" name="colorPicker" value="###COLOR###" size="7" />
					</span>
					
					<span style="float: left; background: ###COLOR###; height: 101px; width: 131px; margin-top: 8px;" id="colorBackground">
						<img src="###PATH_TO_RESOURCES###Images/preview_icon.png" />
					</span>
					<div style="clear:both;"><!-- --></div>
				</fieldset>
				<fieldset>
					<button type="submit">Continue<span class="t3-install-form-button-icon-positive">&nbsp;</span></button>
				</fieldset>
				<script type="text/javascript" src="###PATH_TO_RESOURCES###Javascript/jscolor.js"></script>
				<script language="javascript">
					//<![CDATA[
						jscolor.dir = '###PATH_TO_RESOURCES###Images/';
						var colorPicker = new jscolor.color(document.getElementById('colorPicker'), {hash: true, pickerPosition: 'top', pickerSmartPosition: false, pickerOnfocus: false, pickerFaceColor: 'transparent', pickerFace: 0, pickerBorder: 0, pickerInsetColor: '#EFEFF4', styleElement: 'colorBackground'});
						colorPicker.showPicker();
						passwordChanged();
					//]]>
				</script>
				<script language="javascript">
					//<![CDATA[
						function setUseRealURL() {
							$('useRealURL').value = '1';
						}

						new Ajax.Request(
							'###CHECK_REAL_URL_COMPLIANCE_URL###',
							{
								method: 'get',
								onSuccess: setUseRealURL
							}
						);
						
					//]]>
				</script>
			</form>
		</div>
		<!-- ###TEMPLATE### end-->
	</body>
</html>